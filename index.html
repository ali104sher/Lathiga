<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Cutie Birthday â€” All-in-One Surprise</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@400;700;800&display=swap" rel="stylesheet">

<style>
Â  :root{
Â  Â  --bg:#07020a; --card:#120813; --accent:#ff6b9f; --text:#f8eef6; --muted:#d9c8d6; --rose:#b33a5b; --gold:#f6c170;
Â  Â  --cakeA:#ffb3d1; --cakeB:#ff8fc0; --cakeC:#ff6fa8;
Â  }
Â  *{box-sizing:border-box}
Â  html,body{height:100%;margin:0;background:
Â  Â  radial-gradient(900px 500px at 10% 10%, rgba(182,26,71,0.12), transparent 20%),
Â  Â  linear-gradient(180deg,#06020a 0%, #1a0716 60%);
Â  Â  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
Â  Â  color:var(--text);
Â  }
Â  .wrap{min-height:100dvh;display:grid;place-items:center;padding:24px}
Â  .card{width:min(980px,96vw);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
Â  Â  border-radius:18px; padding:18px;border:1px solid rgba(255,255,255,0.03); box-shadow:0 30px 80px rgba(0,0,0,0.7); overflow:hidden
Â  }

Â  /* HERO / PASSWORD */
Â  .hero{padding:18px 18px 8px;text-align:center}
Â  .hero h1{font-family: 'Great Vibes', 'Brush Script MT', cursive; font-size:clamp(26px,4vw,44px); margin:0; color:var(--gold);
Â  Â  text-shadow:0 6px 20px rgba(246,193,112,0.06)}
Â  .hero p{margin:8px 0 0;color:var(--muted)}
Â  .gate{display:grid;gap:12px;padding:12px;margin-top:8px}
Â  .input-row{display:flex;gap:12px;align-items:center}
Â  input[type=password]{flex:1;padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);
Â  Â  background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));color:var(--text);font-size:16px}
Â  .btn{padding:10px 14px;border-radius:12px;border:none;background:linear-gradient(180deg,var(--rose),#ff4f8e);color:white;font-weight:800;cursor:pointer}
Â  .music-toggle{padding:8px 10px;border-radius:10px;border:none;background:transparent;color:var(--muted);cursor:pointer;font-weight:700}

Â  /* top preview swatches */
Â  .previewRow{display:flex;gap:12px;align-items:center;justify-content:center;margin-top:12px}
Â  .swatch{width:54px;height:38px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.45);border:1px solid rgba(255,255,255,0.02)}
Â  .swatchLabel{font-size:12px;color:var(--muted);text-align:center;margin-top:6px}

Â  /* cake area */
Â  .stage{display:grid;gap:14px}
Â  .centered{display:grid;place-items:center}
Â  .cake-scene{display:flex;gap:20px;align-items:center;flex-wrap:wrap;justify-content:center}
Â  .cake-box{width:340px;height:360px;display:grid;place-items:center;position:relative}
Â  .cake-real{width:260px;border-radius:18px;background:linear-gradient(180deg,#fff7f9,#ffeef3);box-shadow:0 18px 60px rgba(180,20,60,0.14);padding:18px;position:relative;cursor:pointer;}
Â  .cake-tier{height:56px;border-radius:10px;background:linear-gradient(180deg,var(--cakeA),#ffdfee);margin:6px 0;display:flex;align-items:center;justify-content:center;opacity:0;transform:translateY(30px)}
Â  .candles{position:absolute;top:36px;left:50%;transform:translateX(-50%);display:flex;gap:8px;pointer-events:none}
Â  .candle{width:8px;height:36px;background:linear-gradient(180deg,#ffdcd5,#ff9fb1);border-radius:4px;display:flex;align-items:flex-start;justify-content:center}
Â  .flame{width:10px;height:14px;border-radius:50%;background:radial-gradient(circle at 40% 30%, #fff9c4 0%, #ffd54f 18%, #ff6b6b 55%);box-shadow:0 10px 26px rgba(255,110,140,0.26);opacity:1;transform-origin:center bottom}
Â  .smoke{position:absolute;top:12px;left:50%;transform:translateX(-50%);opacity:0;transition:all .45s ease}

Â  /* balloons */
Â  .balloon-wrap{position:relative;width:260px;height:320px}
Â  .balloon{position:absolute;border-radius:50%;box-shadow:0 12px 24px rgba(0,0,0,0.25);opacity:0.95}
Â  .b1{width:86px;height:108px;left:20px;top:28px;background:radial-gradient(circle at 30% 20%, #fff6f8, #ff9fb1)}
Â  .b2{width:72px;height:92px;left:140px;top:60px;background:radial-gradient(circle at 30% 20%, #fffaf6, #ffd166)}
Â  .b3{width:56px;height:74px;left:60px;top:180px;background:radial-gradient(circle at 30% 20%, #fffaf6, #ffd1e0)}
Â  .b4{width:72px;height:94px;left:160px;top:180px;background:radial-gradient(circle at 30% 20%, #fff6f8, #9b5de5)}
Â  @keyframes floaty{0%{transform:translateY(0) rotate(-2deg)}50%{transform:translateY(-12px) rotate(2deg)}100%{transform:translateY(0) rotate(-2deg)}}
Â  .balloon{animation:floaty 3.6s ease-in-out infinite}

Â  .hidden{display:none!important}

Â  /* memory game / UI */
Â  .panel{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02)); padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
Â  .hud{display:flex;gap:10px;align-items:center}
Â  .stat{background:rgba(255,255,255,0.02);padding:8px 10px;border-radius:999px;font-weight:700;color:var(--muted)}
Â  .board{display:grid;gap:10px;grid-template-columns:repeat(4, minmax(70px,1fr));margin-top:12px}
Â  .card-outer{aspect-ratio:3/4}
Â  .card3d{width:100%;height:100%;position:relative;transform-style:preserve-3d;transition:transform .38s;cursor:pointer;user-select:none}
Â  .card3d.flipped{transform:rotateY(180deg)}
Â  .face{position:absolute;inset:0;display:grid;place-items:center;border-radius:10px;backface-visibility:hidden;border:2px solid rgba(255,255,255,0.03);font-size:22px}
Â  .front{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))}
Â  .back{transform:rotateY(180deg);background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02))}
Â  .matched .face{box-shadow:0 0 30px rgba(255,120,160,0.12);border-color:rgba(255,120,160,0.4)}

Â  .typewrap{min-height:160px;padding:16px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);font-size:18px;line-height:1.6}
Â  .glow{color:var(--gold);text-shadow:0 6px 30px rgba(246,193,112,0.12)}

Â  /* small anims */
Â  .swishIn{animation:swish .42s ease both}
Â  @keyframes swish{ from{transform:translateY(8px);opacity:0} to{transform:translateY(0);opacity:1} }

Â  /* hearts */
Â  .heart{position:fixed;pointer-events:none;animation:floatUp 1200ms ease forwards}
Â  @keyframes floatUp{0%{transform:translateY(0) scale(.7);opacity:0}10%{opacity:1}100%{transform:translateY(-140px) scale(1.05);opacity:0}}

Â  /* modal */
Â  .modal{position:fixed;inset:0;display:grid;place-items:center;background:rgba(0,0,0,0.4);opacity:0;pointer-events:none;transition:.18s}
Â  .modal.show{opacity:1;pointer-events:auto}
Â  .modal-card{background:#170a14;padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}

Â  /* responsive */
Â  @media(max-width:520px){ .cake-box{width:260px;height:300px} .card{padding:12px} .board{grid-template-columns:repeat(4,1fr)} .typewrap{font-size:16px} }
</style>
</head>
<body>

Â  Â  <audio id="surpriseMusic" src="birthday_song.mp3" loop></audio>
Â  
Â  <div class="wrap">
Â  Â  <div class="card" id="mainCard">

Â  Â  Â  <div id="stagePassword" class="stage">
Â  Â  Â  Â  <div class="hero">
Â  Â  Â  Â  Â  <h1>Cutie, tell me the password</h1>
Â  Â  Â  Â  Â  <p>Type the special date to start your surprise âœ¨</p>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="gate panel">
Â  Â  Â  Â  Â  <div class="input-row">
Â  Â  Â  Â  Â  Â  <input id="pass" type="password" placeholder="enter password..." inputmode="numeric" />
Â  Â  Â  Â  Â  Â  <button class="btn" id="unlock">Unlock</button>
Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  <div class="previewRow" style="margin-top:12px">
Â  Â  Â  Â  Â  Â  <div style="text-align:center">
Â  Â  Â  Â  Â  Â  Â  <div class="swatch" style="background:var(--cakeA)"></div>
Â  Â  Â  Â  Â  Â  Â  <div class="swatchLabel">Soft Pink</div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div style="text-align:center">
Â  Â  Â  Â  Â  Â  Â  <div class="swatch" style="background:var(--cakeB)"></div>
Â  Â  Â  Â  Â  Â  Â  <div class="swatchLabel">Candy Pink</div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div style="text-align:center">
Â  Â  Â  Â  Â  Â  Â  <div class="swatch" style="background:var(--cakeC)"></div>
Â  Â  Â  Â  Â  Â  Â  <div class="swatchLabel">Hot Pink</div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div style="text-align:center">
Â  Â  Â  Â  Â  Â  Â  <div class="swatch" style="background:var(--gold)"></div>
Â  Â  Â  Â  Â  Â  Â  <div class="swatchLabel">Gold Glow</div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div style="text-align:center">
Â  Â  Â  Â  Â  Â  Â  <div class="swatch" style="background:var(--accent)"></div>
Â  Â  Â  Â  Â  Â  Â  <div class="swatchLabel">Accent</div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  <div style="color:var(--muted);font-size:13px;margin-top:10px">Hint:No hint here â€” try it ğŸ˜‰ heheğŸ˜</div>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>

Â  Â  Â  <div id="stageCake" class="stage hidden">
Â  Â  Â  Â  <div class="centered">
Â  Â  Â  Â  Â  <div class="cake-scene">
Â  Â  Â  Â  Â  Â  <div class="cake-box">
Â  Â  Â  Â  Â  Â  Â  <div class="cake-real" id="cake">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="cake-tier" id="tier1" data-tier="1"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="cake-tier" id="tier2" data-tier="2"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="cake-tier" id="tier3" data-tier="3"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="candles" id="candles">
Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="candle"><div class="flame" id="flame1"></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="candle"><div class="flame" id="flame2"></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="candle"><div class="flame" id="flame3"></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  <div class="smoke hidden" id="smoke">ğŸ’¨</div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="balloon-wrap">
Â  Â  Â  Â  Â  Â  Â  <div class="balloon b1"></div>
Â  Â  Â  Â  Â  Â  Â  <div class="balloon b2"></div>
Â  Â  Â  Â  Â  Â  Â  <div class="balloon b3"></div>
Â  Â  Â  Â  Â  Â  Â  <div class="balloon b4"></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  <div style="height:8px"></div>
Â  Â  Â  Â  Â  <div class="panel" style="max-width:720px;text-align:center">
Â  Â  Â  Â  Â  Â  <div id="cakeText" style="font-size:20px;font-weight:700;color:var(--muted)">Happy Birthday, Lathiga Sri ğŸ‚</div>
Â  Â  Â  Â  Â  Â  <div style="margin-top:8px;color:var(--muted)">Tap the cake to blow the candles and continue</div>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>

Â  Â  Â  <div id="stageGame" class="stage hidden">
Â  Â  Â  Â  <div class="panel">
Â  Â  Â  Â  Â  <h3 style="margin:0 0 8px">Memory Match â€” Romantic</h3>
Â  Â  Â  Â  Â  <div class="hud">
Â  Â  Â  Â  Â  Â  <div class="stat">â±ï¸ Time: <span id="time">0:00</span></div>
Â  Â  Â  Â  Â  Â  <div class="stat">ğŸ¯ Moves: <span id="moves">0</span></div>
Â  Â  Â  Â  Â  Â  <div class="stat">âœ… Matches: <span id="found">0</span>/<span id="total">8</span></div>
Â  Â  Â  Â  Â  Â  <button class="btn" id="restart" style="margin-left:auto">Restart</button>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  <div id="board" class="board" style="margin-top:14px"></div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div style="height:12px"></div>
Â  Â  Â  Â  <div class="panel">
Â  Â  Â  Â  Â  <h3 style="margin:0 0 6px">Unlocked Note</h3>
Â  Â  Â  Â  Â  <p id="noteBox" style="margin:0;color:var(--muted)">Finish the board to unlock the final surprise â¤ï¸</p>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>

Â  Â  Â  <div id="stageFinal" class="stage hidden">
Â  Â  Â  Â  <div class="panel">
Â  Â  Â  Â  Â  <h3 class="glow">A Letter for You</h3>
Â  Â  Â  Â  Â  <div class="typewrap" id="typewrap"></div>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>

Â  Â  </div>
Â  </div>

Â  <div class="modal" id="modal">
Â  Â  <div class="modal-card">
Â  Â  Â  <h3 id="modalTitle">You did it! ğŸ‰</h3>
Â  Â  Â  <p id="modalText" style="color:var(--muted)">Final surprise unlocked.</p>
Â  Â  Â  <button class="btn" id="nextBtn">Continue</button>
Â  Â  </div>
Â  </div>

<script>
/* All logic wrapped to avoid accidental global errors. Works offline, no music. */
(function(){
Â  'use strict';

Â  // --------- CONFIG ----------
Â  const PASSWORD = '15082012'; // final code
Â  const EXTRA = ['15082025'];Â  // optional accepted extras
Â  const EMOJI_SET = ['ğŸ’–','ğŸ’–','ğŸ‚','ğŸ‚','ğŸŒ¸','ğŸŒ¸','ğŸ»','ğŸ»','ğŸ“','ğŸ“','ğŸ§','ğŸ§','ğŸŒˆ','ğŸŒˆ','ğŸ’Œ','ğŸ’Œ'];

Â  // --------- DOM refs ----------
Â  const passInput = document.getElementById('pass');
Â  const unlockBtn = document.getElementById('unlock');
Â  const musicToggle = document.getElementById('musicToggle');
Â  const stagePassword = document.getElementById('stagePassword');
Â  const stageCake = document.getElementById('stageCake');
Â  const stageGame = document.getElementById('stageGame');
Â  const stageFinal = document.getElementById('stageFinal');

Â  const tier1 = document.getElementById('tier1');
Â  const tier2 = document.getElementById('tier2');
Â  const tier3 = document.getElementById('tier3');
Â  const candles = document.getElementById('candles');
Â  const flame1 = document.getElementById('flame1');
Â  const flame2 = document.getElementById('flame2');
Â  const flame3 = document.getElementById('flame3');
Â  const smoke = document.getElementById('smoke');
Â  const cakeText = document.getElementById('cakeText');

Â  const boardEl = document.getElementById('board');
Â  const timeEl = document.getElementById('time');
Â  const movesEl = document.getElementById('moves');
Â  const foundEl = document.getElementById('found');
Â  const totalEl = document.getElementById('total');
Â  const noteBox = document.getElementById('noteBox');
Â  const restartBtn = document.getElementById('restart');

Â  const modal = document.getElementById('modal');
Â  const nextBtn = document.getElementById('nextBtn');
Â  const modalTitle = document.getElementById('modalTitle');
Â  const modalText = document.getElementById('modalText');

Â  const typewrap = document.getElementById('typewrap');

Â  // NEW: Get reference to the audio element
Â  const music = document.getElementById('surpriseMusic');

Â  // --------- state ----------
Â  let timer = null, seconds = 0, moves = 0, flipped = [], lockBoard = false, matched = 0, totalPairs = 8;
Â  let heartTimer = null, flameTimer = null;

Â  // safety: wait for DOM to be ready
Â  document.addEventListener('DOMContentLoaded', init);

Â  function init(){
Â  Â  // event hookups
Â  Â  unlockBtn.addEventListener('click', tryUnlock);
Â  Â  passInput.addEventListener('keydown', e => { if(e.key === 'Enter') tryUnlock(); });
Â  Â  // This safely checks if the musicToggle element exists before trying to use it.
Â  Â  musicToggle && musicToggle.addEventListener('click', ()=>{ alert('Music turned off for this version'); });

Â  Â  tier1.style.background = `linear-gradient(180deg, var(--cakeA), #ffdfee)`;
Â  Â  tier2.style.background = `linear-gradient(180deg, var(--cakeB), #ffd6ea)`;
Â  Â  tier3.style.background = `linear-gradient(180deg, var(--cakeC), #ffb7d6)`;

Â  Â  // cake flame wobble effect
Â  Â  flameTimer = setInterval(()=> {
Â  Â  Â  [flame1,flame2,flame3].forEach(f => { if(!f) return; f.style.transform = `translateY(${(Math.random()-0.5)*2}px) scale(${1+Math.random()*0.04})`; });
Â  Â  }, 160);

Â  Â  // This finds the cake and attaches the click event. This is the crucial part.
Â  Â  const cakeRoot = document.getElementById('cake');
Â  Â  cakeRoot && cakeRoot.addEventListener('click', onCakeClick);

Â  Â  nextBtn.addEventListener('click', ()=> {
Â  Â  Â  modal.classList.remove('show');
Â  Â  Â  stageGame.classList.add('hidden');
Â  Â  Â  stageFinal.classList.remove('hidden');
Â  Â  Â  startFinal();
Â  Â  });

Â  Â  restartBtn && restartBtn.addEventListener('click', ()=> { buildBoard(); });
Â  Â  passInput.focus();
Â  }

Â  // --------- Unlock logic ----------
Â  function tryUnlock(){
Â  Â  const v = (passInput.value || '').trim();
Â  Â  if(v === PASSWORD || EXTRA.includes(v)){
Â  Â  Â  stagePassword.classList.add('hidden');
Â  Â  Â  stageCake.classList.remove('hidden');
Â  Â  Â  buildCakeAnimation();
Â  Â  Â  // NEW: Play the music when the password is correct
Â  Â  Â  music.play();
Â  Â  } else {
Â  Â  Â  try { passInput.animate([{transform:'translateX(-6px)'},{transform:'translateX(6px)'},{transform:'translateX(0)'}], {duration:220, iterations:2}); } catch(e){}
Â  Â  Â  passInput.style.borderColor = '#ff8fb1';
Â  Â  Â  setTimeout(()=> passInput.style.borderColor = '', 900);
Â  Â  }
Â  }

Â  // --------- Cake build animation ----------
Â  function buildCakeAnimation(){
Â  Â  [tier1,tier2,tier3].forEach(t => { if(!t) return; t.style.opacity = 0; t.style.transform = 'translateY(30px)'; });
Â  Â  smoke.classList.add('hidden'); smoke.style.opacity = 0;

Â  Â  setTimeout(()=> revealTier(tier1, 0), 380);
Â  Â  setTimeout(()=> revealTier(tier2, 1), 900);
Â  Â  setTimeout(()=> revealTier(tier3, 2), 1400);

Â  Â  setTimeout(()=> {
Â  Â  Â  try {
Â  Â  Â  Â  [tier1,tier2,tier3].forEach(t => t.classList.add('swishIn'));
Â  Â  Â  Â  candles.style.opacity = 1;
Â  Â  Â  Â  candles.animate([{transform:'translateY(6px)'},{transform:'translateY(0)'}], {duration:420, easing:'ease-out'});
Â  Â  Â  } catch(e){}
Â  Â  }, 1800);
Â  }

Â  function revealTier(el, idx){
Â  Â  if(!el) return;
Â  Â  try{
Â  Â  Â  el.style.transition = 'transform 420ms cubic-bezier(.2,.9,.25,1), opacity 420ms ease';
Â  Â  Â  el.style.opacity = 1;
Â  Â  Â  el.style.transform = 'translateY(0)';
Â  Â  Â  setTimeout(()=> {
Â  Â  Â  Â  try { el.animate([{transform:'translateY(0) scaleY(1)'},{transform:'translateY(-6px) scaleY(1.02)'},{transform:'translateY(0) scaleY(1)'}], {duration:420}); } catch(e){}
Â  Â  Â  }, 460 + idx*40);
Â  Â  } catch(err){}
Â  }

Â  // when cake is clicked
Â  function onCakeClick(){
Â  Â  clearInterval(flameTimer);
Â  Â  [flame1,flame2,flame3].forEach(f => { if(!f) return; f.style.opacity = 0; });
Â  Â  try { candles.style.transform = 'translateY(-10px)'; } catch(e){}
Â  Â  smoke.classList.remove('hidden'); smoke.style.opacity = 1; smoke.style.transform = 'translateY(-16px)';

Â  Â  cakeText.innerHTML = 'Happy Birthday, Lathiga Sri ğŸ‚<br>Make a wish...';
Â  Â  popHearts(12);
Â  Â Â 
Â  Â  setTimeout(()=> {
Â  Â  Â  stageCake.classList.add('hidden');
Â  Â  Â  stageGame.classList.remove('hidden');
Â  Â  Â  startGame();
Â  Â  }, 1200);
Â  }

Â  // --------- hearts ----------
Â  function popHearts(n){
Â  Â  for(let i=0;i<n;i++){
Â  Â  Â  setTimeout(()=> {
Â  Â  Â  Â  try{
Â  Â  Â  Â  Â  const el = document.createElement('div'); el.className = 'heart';
Â  Â  Â  Â  Â  el.textContent = ['ğŸ’–','ğŸ’—','ğŸ’','ğŸ’•','ğŸ’˜'][Math.floor(Math.random()*5)];
Â  Â  Â  Â  Â  el.style.left = (20 + Math.random()*60) + '%';
Â  Â  Â  Â  Â  el.style.top = (60 + Math.random()*20) + '%';
Â  Â  Â  Â  Â  el.style.fontSize = (14 + Math.random()*28) + 'px';
Â  Â  Â  Â  Â  document.body.appendChild(el);
Â  Â  Â  Â  Â  setTimeout(()=> el.remove(), 1600);
Â  Â  Â  Â  }catch(e){}
Â  Â  Â  }, i*70);
Â  Â  }
Â  }

Â  // --------- MEMORY GAME ----------
Â  function startGame(){
Â  Â  buildBoard();
Â  }

Â  function buildBoard(){
Â  Â  const set = EMOJI_SET.slice();
Â  Â  for(let i=set.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [set[i],set[j]] = [set[j],set[i]]; }
Â  Â  matched = 0; flipped = []; moves = 0; seconds = 0; lockBoard = false;
Â  Â  totalPairs = set.length / 2;
Â  Â  foundEl.textContent = '0'; movesEl.textContent = '0'; totalEl.textContent = totalPairs;
Â  Â  noteBox.textContent = 'Finish the board to unlock the final surprise â¤ï¸';

Â  Â  clearInterval(timer);
Â  Â  timeEl.textContent = '0:00';
Â  Â  timer = setInterval(()=>{ seconds++; timeEl.textContent = formatTime(seconds); }, 1000);

Â  Â  boardEl.innerHTML = '';
Â  Â  set.forEach(val=>{
Â  Â  Â  const outer = document.createElement('div'); outer.className = 'card-outer';
Â  Â  Â  const card = document.createElement('div'); card.className = 'card3d'; card.dataset.value = val;
Â  Â  Â  const backHTML = val;
Â  Â  Â  card.innerHTML = `<div class="face front">ğŸ</div><div class="face back">${backHTML}</div>`;
Â  Â  Â  outer.appendChild(card);
Â  Â  Â  boardEl.appendChild(outer);
Â  Â  });
Â  Â  boardEl.querySelectorAll('.card3d').forEach(c=> c.addEventListener('click', ()=> flip(c)));
Â  }

Â  function flip(card){
Â  Â  if(lockBoard || card.classList.contains('flipped') || card.classList.contains('matched')) return;
Â  Â  card.classList.add('flipped');
Â  Â  flipped.push(card);
Â  Â  if(flipped.length === 2){
Â  Â  Â  moves++; movesEl.textContent = moves;
Â  Â  Â  const [a,b] = flipped;
Â  Â  Â  if(a.dataset.value === b.dataset.value){
Â  Â  Â  Â  a.classList.add('matched'); b.classList.add('matched');
Â  Â  Â  Â  flipped = []; matched++; foundEl.textContent = matched;
Â  Â  Â  Â  popHearts(3);
Â  Â  Â  Â  if(matched === totalPairs){
Â  Â  Â  Â  Â  setTimeout(levelComplete, 600);
Â  Â  Â  Â  }
Â  Â  Â  } else {
Â  Â  Â  Â  lockBoard = true;
Â  Â  Â  Â  setTimeout(()=> { a.classList.remove('flipped'); b.classList.remove('flipped'); flipped = []; lockBoard = false; }, 700);
Â  Â  Â  }
Â  Â  }
Â  }

Â  function levelComplete(){
Â  Â  clearInterval(timer);
Â  Â  modalTitle.textContent = 'You did it! ğŸ‰';
Â  Â  modalText.textContent = `Time: ${formatTime(seconds)} Â· Moves: ${moves}`;
Â  Â  modal.classList.add('show');
Â  }

Â  function formatTime(s){
Â  Â  const m = Math.floor(s/60); const sec = s%60; return `${m}:${sec.toString().padStart(2,'0')}`;
Â  }

Â  // --------- FINAL TYPEWRITER ----------
Â  const TYPE_TEXT = `Happy Birthday, Lathiga Sri.. #wife of AlisherAlam

My wifey, my honey, my sweety, my princess â€” you are the most beautiful part of my life. I am thankful to god that he sent you in my life....Â 
wish u have the best year as this one.. ğŸ’Â 
wifey..
iiiiiiiiiillllllllllllloooooooooooovvvvvvvvbvvveeeeeeeeeeyyyyyyyoooooouuuuuu
You are my safe place and my favorite dream come true. Your laughter is my favorite song and your smile is my sunrise. Today I promise more silly jokes, more midnight talks, and more of us.
I love you honeyÂ 
ummmmmmmmmmahğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹ğŸ’‹
I love you forever. Forever and always.
will u be mine..ğŸ’

â€” Alisher`;

Â  function startFinal(){
Â  Â  typewrap.innerHTML = '';
Â  Â  typewrite(TYPE_TEXT, 44, ()=> {
Â  Â  Â  const end = document.createElement('div');
Â  Â  Â  end.style.marginTop = '12px';
Â  Â  Â  end.style.textAlign = 'center';
Â  Â  Â  end.innerHTML = `<div style="font-weight:900;font-size:20px;color:var(--rose);text-shadow:0 6px 30px rgba(179,58,91,0.08)">Forever Yours â™¥</div>`;
Â  Â  Â  typewrap.appendChild(end);
Â  Â  Â  popHearts(18);
Â  Â  });
Â  }

Â  function typewrite(text, speed, cb){
Â  Â  let i = 0;
Â  Â  function step(){
Â  Â  Â  if(i >= text.length){ cb && cb(); return; }
Â  Â  Â  const ch = text[i++];
Â  Â  Â  if(ch === '\n'){ typewrap.innerHTML += '<br/>'; }
Â  Â  Â  else { typewrap.innerHTML += escapeHtml(ch); }
Â  Â  Â  let delay = speed;
Â  Â  Â  if(ch === '.' || ch === '!' || ch === '?') delay += 200;
Â  Â  Â  if(ch === ',') delay += 90;
Â  Â  Â  setTimeout(step, delay);
Â  Â  }
Â  Â  step();
Â  }

Â  function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

Â  window.addEventListener('beforeunload', ()=> { clearInterval(flameTimer); clearInterval(timer); });
})();
</script>
</body>
</html>
